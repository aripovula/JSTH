# Database configuration - uses environment variables for Heroku, falls back to local for development
spring.datasource.url=${JDBC_DATABASE_URL:jdbc:mysql://localhost:8889/JSTHF?useSSL=false}
spring.datasource.tomcat.connection-properties=useUnicode=true;characterEncoding=utf-8;
spring.datasource.username=${JDBC_DATABASE_USERNAME:springstudent}
spring.datasource.password=${JDBC_DATABASE_PASSWORD:springstudent}

spring.session.store-type=jdbc

spring.jpa.show-sql=true
spring.jpa.hibernate.ddl-auto=update

spring.queries.users-query=select email, password, active from user where email=?
spring.queries.roles-query=select u.email, r.role from user u inner join user_role ur on(u.user_id=ur.user_id) inner join role r on(ur.role_id=r.role_id) where u.email=?